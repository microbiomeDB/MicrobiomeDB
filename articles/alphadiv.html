<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="MicrobiomeDB">
<title>Alpha Diversity • MicrobiomeDB</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Alpha Diversity">
<meta property="og:description" content="MicrobiomeDB">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MicrobiomeDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/alphadiv.html">Alpha Diversity</a>
    <a class="dropdown-item" href="../articles/betadiv.html">Beta Diversity</a>
    <a class="dropdown-item" href="../articles/correlation.html">Correlation</a>
    <a class="dropdown-item" href="../articles/ranked-abundance.html">Ranked Relative Abundances</a>
    <a class="dropdown-item" href="../articles/self-correlation.html">Self Correlation</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/microbiomeDB/MicrobiomeDB/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Alpha Diversity</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/microbiomeDB/MicrobiomeDB/blob/HEAD/vignettes/alphadiv.Rmd" class="external-link"><code>vignettes/alphadiv.Rmd</code></a></small>
      <div class="d-none name"><code>alphadiv.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/microbiomeDB/MicrobiomeDB" class="external-link">MicrobiomeDB</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'S4Arrays::makeNindexFromArrayViewport' by</span></span>
<span><span class="co">#&gt; 'DelayedArray::makeNindexFromArrayViewport' when loading 'SummarizedExperiment'</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.5</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.5.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.2.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.3     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.2     </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span></code></pre></div>
<div class="section level2">
<h2 id="what-is-alpha-diversity">What is Alpha Diversity?<a class="anchor" aria-label="anchor" href="#what-is-alpha-diversity"></a>
</h2>
<p>Alpha diversity measures the diversity of microbial taxa within a
single sample or community. It takes into account both the number of
different taxa (richness) and their distribution (evenness).
Understanding alpha diversity provides insights into the complexity and
structure of microbial communities at a local level.</p>
</div>
<div class="section level2">
<h2 id="why-care-about-alpha-diversity">Why Care About Alpha Diversity?<a class="anchor" aria-label="anchor" href="#why-care-about-alpha-diversity"></a>
</h2>
<p>Researchers are interested in alpha diversity for several
reasons:</p>
<p><strong>Community Comparisons</strong>: Compare the diversity of
microbial communities across different samples or conditions.</p>
<p><strong>Health Assessments</strong>: Assess the health or stability
of microbial communities within specific environments or host
systems.</p>
<p><strong>Ecological Understanding</strong>: Gain insights into the
ecological dynamics of microbial communities at a local scale.</p>
</div>
<div class="section level2">
<h2 id="how-is-alpha-diversity-calculated">How is Alpha Diversity Calculated?<a class="anchor" aria-label="anchor" href="#how-is-alpha-diversity-calculated"></a>
</h2>
<p>This package offers three diversity indices for calculation: Shannon,
Simpson and Evenness.</p>
<div class="section level3">
<h3 id="shannon-diversity-index">Shannon Diversity Index<a class="anchor" aria-label="anchor" href="#shannon-diversity-index"></a>
</h3>
<p>The Shannon diversity index measures the entropy or uncertainty in
predicting the identity of a randomly chosen taxon within a sample.</p>
<p>It can be calculated as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## first lets find some interesting data</span></span>
<span><span class="fu">microbiomeData</span><span class="fu">::</span><span class="fu"><a href="https://microbiomedb.github.io/microbiomeData/reference/getCuratedDatasetNames.html" class="external-link">getCuratedDatasetNames</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Anopheles_albimanus"     "BONUS"                  </span></span>
<span><span class="co">#&gt;  [3] "Bangladesh"              "DailyBaby"              </span></span>
<span><span class="co">#&gt;  [5] "DiabImmune"              "ECAM"                   </span></span>
<span><span class="co">#&gt;  [7] "EcoCF"                   "FARMM"                  </span></span>
<span><span class="co">#&gt;  [9] "GEMS1"                   "HMP_V1V3"               </span></span>
<span><span class="co">#&gt; [11] "HMP_V3V5"                "HMP_WGS"                </span></span>
<span><span class="co">#&gt; [13] "Leishmaniasis"           "MALED_2yr"              </span></span>
<span><span class="co">#&gt; [15] "MALED_diarrhea"          "MORDOR"                 </span></span>
<span><span class="co">#&gt; [17] "Malaysia_helminth"       "NICU_NEC"               </span></span>
<span><span class="co">#&gt; [19] "PIH_Uganda"              "PretermInfantResistome1"</span></span>
<span><span class="co">#&gt; [21] "PretermInfantResistome2" "UgandaMaternal"</span></span>
<span></span>
<span><span class="fu">getCollectionNames</span><span class="op">(</span><span class="fu">microbiomeData</span><span class="fu">::</span><span class="va"><a href="https://microbiomedb.github.io/microbiomeData/reference/HMP_WGS.html" class="external-link">HMP_WGS</a></span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "WGS 4th level EC metagenome abundance data"              </span></span>
<span><span class="co">#&gt;  [2] "WGS Metagenome enzyme pathway abundance data"            </span></span>
<span><span class="co">#&gt;  [3] "WGS Metagenome enzyme pathway coverage data"             </span></span>
<span><span class="co">#&gt;  [4] "WGS Genus"                                               </span></span>
<span><span class="co">#&gt;  [5] "WGS Species"                                             </span></span>
<span><span class="co">#&gt;  [6] "WGS Family"                                              </span></span>
<span><span class="co">#&gt;  [7] "WGS Order"                                               </span></span>
<span><span class="co">#&gt;  [8] "WGS Phylum"                                              </span></span>
<span><span class="co">#&gt;  [9] "WGS Class"                                               </span></span>
<span><span class="co">#&gt; [10] "WGS Normalized number of taxon-specific sequence matches"</span></span>
<span><span class="co">#&gt; [11] "WGS Kingdom"</span></span>
<span></span>
<span><span class="co">## grab a collection we like</span></span>
<span><span class="va">genus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCollection.html">getCollection</a></span><span class="op">(</span><span class="fu">microbiomeData</span><span class="fu">::</span><span class="va"><a href="https://microbiomedb.github.io/microbiomeData/reference/HMP_WGS.html" class="external-link">HMP_WGS</a></span>, <span class="st">'WGS Genus'</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## get an alpha diversity ComputeResult</span></span>
<span><span class="va">alphaDivOutput</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/alphaDiv-methods.html">alphaDiv</a></span><span class="op">(</span><span class="va">genus</span>, method <span class="op">=</span> <span class="st">'shannon'</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.370356 Received df table with 741 samples and 226 taxa.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.406793 shannon alpha diversity computation complete.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.421717 Alpha diversity computation completed with parameters method= shannon</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="simpson-diversity-index">Simpson Diversity Index<a class="anchor" aria-label="anchor" href="#simpson-diversity-index"></a>
</h3>
<p>The Simpson diversity index measures the probability that two
individuals randomly selected from the sample will belong to different
taxa.</p>
<p>It can be calculated as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## get an alpha diversity ComputeResult</span></span>
<span><span class="va">genus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCollection.html">getCollection</a></span><span class="op">(</span><span class="fu">microbiomeData</span><span class="fu">::</span><span class="va"><a href="https://microbiomedb.github.io/microbiomeData/reference/HMP_WGS.html" class="external-link">HMP_WGS</a></span>, <span class="st">'WGS Genus'</span><span class="op">)</span></span>
<span><span class="va">alphaDivOutput</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/alphaDiv-methods.html">alphaDiv</a></span><span class="op">(</span><span class="va">genus</span>, method <span class="op">=</span> <span class="st">'simpson'</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.514318 Received df table with 741 samples and 226 taxa.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.543884 simpson alpha diversity computation complete.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.549101 Alpha diversity computation completed with parameters method= simpson</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="species-evenness">Species Evenness<a class="anchor" aria-label="anchor" href="#species-evenness"></a>
</h3>
<p>Species evenness describes the distribution of abundances across the
species in a sample. Species evenness is highest when all species in a
sample have the same abundance and approaches zero as relative
abundances vary.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## get an alpha diversity ComputeResult</span></span>
<span><span class="va">genus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCollection.html">getCollection</a></span><span class="op">(</span><span class="fu">microbiomeData</span><span class="fu">::</span><span class="va"><a href="https://microbiomedb.github.io/microbiomeData/reference/HMP_WGS.html" class="external-link">HMP_WGS</a></span>, <span class="st">'WGS Genus'</span><span class="op">)</span></span>
<span><span class="va">alphaDivOutput</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/alphaDiv-methods.html">alphaDiv</a></span><span class="op">(</span><span class="va">genus</span>, method <span class="op">=</span> <span class="st">'evenness'</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.635449 Received df table with 741 samples and 226 taxa.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.653666 evenness alpha diversity computation complete.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2024-04-18 11:10:11.656981 Alpha diversity computation completed with parameters method= evenness</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visualizing-alpha-diversity">Visualizing Alpha Diversity<a class="anchor" aria-label="anchor" href="#visualizing-alpha-diversity"></a>
</h2>
<p>Alpha Diversity is frequently visualized as scatter and box plots.
Creating these types of plots can be done like the following:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## choose one or more metadata variables to integrate with the compute result</span></span>
<span><span class="va">alphaDiv_withMetadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getComputeResultWithMetadata.html">getComputeResultWithMetadata</a></span><span class="op">(</span></span>
<span>  <span class="va">alphaDivOutput</span>,</span>
<span>  <span class="fu">microbiomeData</span><span class="fu">::</span><span class="va"><a href="https://microbiomedb.github.io/microbiomeData/reference/HMP_WGS.html" class="external-link">HMP_WGS</a></span>,</span>
<span>  metadataVariables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'host_body_habitat'</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## plot the compute result with integrated metadata</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">alphaDiv_withMetadata</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">alphaDiversity</span>, y<span class="op">=</span><span class="va">host_body_habitat</span>, fill<span class="op">=</span><span class="va">host_body_habitat</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span> <span class="st">"Body site"</span>, x <span class="op">=</span> <span class="st">"Alpha diversity (Shannon)"</span>,</span>
<span>        title<span class="op">=</span><span class="st">"Alpha diversity by body site"</span>,</span>
<span>        caption<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"produced on "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="alphadiv_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Danielle Callan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
